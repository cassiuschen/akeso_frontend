define(["underscore"],function(e){return{encode:function(e){return encodeURIComponent(e)},decode:function(e){return decodeURIComponent(e)},stringifyCookieValue:function(e){return String(e)},parseCookieValue:function(e){var n,o;0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(/\+/g," "))}catch(o){return n=o,console.log(n)}},read:function(e){var n;return n=this.parseCookieValue(e)},session:function(n,o){var i,t,r,s,c,u,d,a;if(arguments.length>1&&!e.isFunction(o))return document.cookie=[this.encode(n),"=",this.stringifyCookieValue(o)].join("");for(d=n?void 0:{},t=document.cookie.split("; "),r=0,s=t.length;s>r;r++){if(i=t[r],u=i.split("="),c=this.decode(u.shift()),a=u.join("="),n===c){d=this.read(a),0===d.length&&(d=void 0);break}n||(d[c]=this.read(a)||void 0)}return d},remove:function(e){return this.session(e,""),!this.session(e)}}});