define(["jquery","underscore","form","navbar"],function(e,t,a,r){return{init:function(){return r.setActive("production"),window.formData={},window.formData.totalPrice=Number(e("#total").text()),window.formData.originPrice=Number(e("#total").text()),this.handleSelectGlass(),this.handleSelectColor()},handleSelectGlass:function(){var t;return t=this,e(".glass").on("click",function(a){var r;return e(".glass").removeClass("selected"),e(this).addClass("selected"),e(".glasses>.message").remove(),Number(e(this).data("price"))>0&&(r='<div class="message"><red>* </red>如果您的近视度数超过800或者散光度数超过200，需要单独定制镜片，价格会有变更，需要您联系我们的<a href="http://weibo.com/akesoeyecare">官方微博</a></div>',e(this).after(r)),window.formData.totalPrice=window.formData.originPrice+Number(e(this).data("price")),t.updateTotalPrice()})},handleSelectColor:function(){var t;return t=this,e(".color").on("click",function(t){return e(".color").removeClass("selected").addClass("mute"),e(this).removeClass("mute").addClass("selected")})},updateTotalPrice:function(){return e("#total").text(window.formData.totalPrice)}}});